devtools::build()
install.packages("P:/Sections/EHS/Abigail/SubcountyData/Rcode/gatpkg_1.46.tar.gz", repos = NULL, type = "source")
library(gatpkg)
runGATprogram()
runGATprogram()
detach("package:gatpkg", unload = TRUE)
remove.packages("gatpkg", lib="~/R/win-library/3.6")
install.packages("P:/Sections/EHS/Abigail/SubcountyData/Rcode/GATtest/gatpkg_1.46.tar.gz", repos = NULL, type = "source")
?remove.packages()
library(gatpkg)
confirmGATquit()
setwd("P:\\Sections\\EHS\\Arjita\\EPHT\\Precipitation and Health\\Final New Asthma Geocoded Data\\Threshold plot")
library(ggplot2); library(lattice); library(cowplot); library(latticeExtra)
install.packages("cowplot")
library(ggplot2); library(lattice); library(cowplot); library(latticeExtra)
prcp<-c(
0,
10,
20,
30,
40,
60,
70,
80,
90,
110,
120,
130,
140
)
mean01<-c(
0.99481,
0.98324,
0.98659,
1.00210,
1.00020,
1.01928,
1.01025,
1.02224,
1.01847,
1.04071,
1.02675,
1.06109,
1.00020
)
lower01<-c(
0.99432,
0.98147,
0.98393,
0.99800,
0.99471,
1.00944,
0.99471,
1.00531,
0.99730,
1.00381,
1.00401,
1.02953,
0.99481
)
upper01<-c(
0.99521,
0.98482,
0.98926,
1.00602,
1.00552,
1.02912,
1.02593,
1.03935,
1.04008,
1.07885,
1.05001,
1.09363,
1.00562
)
df01<-data.frame(prcp,mean01,lower01,upper01)
g01 <- ggplot(NULL) + #just null, nothing there
+     geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
+     geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
+     geom_line(data = df01, aes(x=prcp,y=mean01),show.legend = FALSE,col="dodgerblue3",size=0.8)+ # line of the estimates
+
+
+     geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
+     geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
+     geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
+     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
+     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
+     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
+
+     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
+     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
+     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
+     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
+
+
+     geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),fill="deepskyblue",alpha=0.3)+ #ribbon between line of lower CI and upper CI
+
+     scale_y_continuous(breaks = seq(0,4,by=0.5))+ #set y axis scales
+     scale_x_continuous(breaks = seq(0,100,by=10))+ #set x axis scales
+
+     ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
+
+     xlab("Maximum Temperature(?F)") +
+     ylab("Risk Ratio") + #add label to x and y axis.
+     geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
+     coord_cartesian(ylim = c(0, 4), xlim =c(0,100))+ #set range to show
+     theme_classic()+ # set same to classic, no extra grids.
+     theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
df01<-data.frame(prcp,mean01,lower01,upper01)
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01),show.legend = FALSE,col="dodgerblue3",size=0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
geom_point(aes(x=ertx01,y=1),col="red",size=3)+
geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),fill="deepskyblue",alpha=0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0,4,by=0.5))+ #set y axis scales
scale_x_continuous(breaks = seq(0,100,by=10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0, 4), xlim =c(0,100))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01),show.legend = FALSE,col="dodgerblue3",size=0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),fill="deepskyblue",alpha=0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0,4,by=0.5))+ #set y axis scales
scale_x_continuous(breaks = seq(0,100,by=10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0, 4), xlim =c(0,100))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0, 1.5, by = 0.25))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 100, by = 10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0, 4), xlim =c(0,100))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0, 1.5, by = 0.25))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 100, by = 10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0, 1.5), xlim =c(0,100))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
max(upper01)
min(lower01)
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
par(mar=c(5.1,4.1,4.1,2.1))
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Maximum Temperature(?F)" , subtitle = "Heat Stress")+ #add title to the plot
xlab("Maximum Temperature(?F)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
prcp<-c(
0,
10,
20,
30,
40,
60,
70,
80,
90,
110,
120,
130,
140
)
mean01<-c(
0.99481,
0.98324,
0.98659,
1.00210,
1.00020,
1.01928,
1.01025,
1.02224,
1.01847,
1.04071,
1.02675,
1.06109,
1.00020
)
lower01<-c(
0.99432,
0.98147,
0.98393,
0.99800,
0.99471,
1.00944,
0.99471,
1.00531,
0.99730,
1.00381,
1.00401,
1.02953,
0.99481
)
upper01<-c(
0.99521,
0.98482,
0.98926,
1.00602,
1.00552,
1.02912,
1.02593,
1.03935,
1.04008,
1.07885,
1.05001,
1.09363,
1.00562
)
df01<-data.frame(prcp,mean01,lower01,upper01)
par(mar=c(5.1,4.1,4.1,2.1))
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Precipitation (mm)")+ # ,subtitle = "Heat Stress" #add title to the plot
xlab("Precipitation (mm)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16),axis.title.x=element_blank()) # align  title middle
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Precipitation (mm)")+ # ,subtitle = "Heat Stress" #add title to the plot
xlab("Precipitation (mm)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16)) # align  title middle # ,axis.title.x=element_blank()
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
#     geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
#     geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Precipitation (mm)")+ # ,subtitle = "Heat Stress" #add title to the plot
xlab("Precipitation (mm)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16)) # align  title middle # ,axis.title.x=element_blank()
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
#     geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
#     geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
#     geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
#     geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Precipitation (mm)")+ # ,subtitle = "Heat Stress" #add title to the plot
xlab("Precipitation (mm)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16)) # align  title middle # ,axis.title.x=element_blank()
#theme_bw()
g01
g01 <- ggplot(NULL) + #just null, nothing there
#     geom_line(data = df01, aes(x=prcp,y=lower01))+ #line of lower CI
#     geom_line(data = df01, aes(x=prcp,y=upper01))+ #line of upper CI
geom_line(data = df01, aes(x=prcp,y=mean01), show.legend = FALSE,
col = "dodgerblue3", size = 0.8)+ # line of the estimates
geom_point(data=df01,aes(x=prcp,y=mean01))+ # points of the estimates
#     geom_point(data=df01,aes(x=prcp,y=lower01))+ # points of the lower CI
#     geom_point(data=df01,aes(x=prcp,y=upper01))+ # points of the upper CI
#     stat_smooth(aes(x=prcp, y=mean01),  method = "auto", se=FALSE,col="red")+
#     stat_smooth(aes(x=prcp, y=lower01),  method = "auto", se=FALSE)+
#     stat_smooth(aes(x=prcp, y=upper01),  method = "auto", se=FALSE)+
#     geom_point(aes(x=52.8,y=mrty01),col="purple",size=3)+ # add mrt point
#     geom_point(aes(x=ertx01,y=1),col="red",size=3)+
#     geom_text(aes(x=52.8,y=mrty01,label="52.8?F"), size = 3.5, position=position_dodge(0.9),vjust=1.56)+ #add label for MRT
#     geom_text(aes(x=ertx01,y=1,label="80.4?F"), size = 3.5, position=position_dodge(0.9),vjust=1.85,hjust=0.3)+ #add label for ERT
geom_ribbon(data = df01, aes(x = prcp, ymin = lower01, ymax = upper01),
fill="deepskyblue", alpha = 0.3)+ #ribbon between line of lower CI and upper CI
scale_y_continuous(breaks = seq(0.9, 1.1, by = 0.05))+ #set y axis scales
scale_x_continuous(breaks = seq(0, 140, by = 10))+ #set x axis scales
ggtitle("Precipitation \n (mm)")+ # ,subtitle = "Heat Stress" #add title to the plot
xlab("Precipitation (mm)") +
ylab("Risk Ratio") + #add label to x and y axis.
geom_hline(yintercept=1, lty=2)+ #add a hline at 1.0
coord_cartesian(ylim = c(0.9, 1.1), xlim =c(0,140))+ #set range to show
theme_classic()+ # set same to classic, no extra grids.
theme(plot.title = element_text(hjust = 0.5,size = 16)) # align  title middle # ,axis.title.x=element_blank()
#theme_bw()
g01
knitr::opts_chunk$set(echo = TRUE)
rversion <- 3.5
remove.packages("gatpkg", lib=paste0("~/R/win-library/", rversion)
)
rversion <- 3.7
remove.packages("gatpkg", lib=paste0("~/R/win-library/", rversion))
